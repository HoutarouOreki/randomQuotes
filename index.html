<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Random Quotes</title>
  <meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Random Quotes">
  <meta name="author" content="Doge">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <script src="jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script>
    var usedQuotes = [];
    var timesSeen = 0;
    function arrayContains(randNum, usedQuotes) {
      for (var i = usedQuotes.length + 1; i >= 0; i--) {
        if (randNum === usedQuotes[i])
          return true;
      }
    }
    function getRandomInt(min, max, number) {
      var randNum = 0;
      do {
        var randNum = Math.floor(Math.random() * (max - min + 1)) + min;
      } while (arrayContains(randNum, usedQuotes));
      usedQuotes.push(randNum);
      if (usedQuotes.length === quote.length) {
        console.log("ALL QUOTES USED");
        $("#alertSeenAll").css("opacity", "1");
        timesSeen++;
        if (timesSeen > 1) {
          if (timesSeen < 10) {
            $("#alertSeenAll").html("You've seen all the quotes " + timesSeen + " times.")
          }
          else if (timesSeen < 15) {
            $("#alertSeenAll").html("Nandato?! You've seen all the quotes " + timesSeen + " times!")
          }
          else if (timesSeen < 20) {
            $("#alertSeenAll").html("KOITSU!! You've seen all of them " + timesSeen + " times already! The counter hits 20, I'm launching a CYBERNUKE at your browser!!")
          }
          else if (timesSeen === 20) {
            $("#alertSeenAll").html("CYBERNUKED")
            var CYBERNUKE = 0;
            do {
              CYBERNUKE++;
            } while(true);
          }
        }
        usedQuotes = [];
      }
      return randNum;
    };
    var quote = [
      [
        "How could you even be 19",
        "― TheWolfInstinct"
      ],
      [
        "The dead is kinda dead",
        "― TheWolfInstinct"
      ],
      [
        "delete system48",
        "― Doge"
      ],
      [
        "I went to coke",
        "― Doge"
      ],
      [
        "coke of can",
        "― Doge"
      ],
      [
        "woopwoopwoop much sense very coke",
        "― Doge"
      ],
      [
        "Auck Fzer",
        "― Internet"
      ],
      [
        "In ur mom",
        "― ppy"
      ],
      [
        "Deja Vu! I've just been in this place before.",
        "― Dave Rodgers"
      ],
      [
        "AKIRAMENAIZO",
        "– The guy in cold water"
      ],
      [
        "NANI?! BAKANA!!",
        "– anime"
      ],
      [
        "NANDA TO?!",
        "– anime"
      ],
      [
        "MASAKA",
        "– Takeshi Nakazato"
      ]
    ]
    var number = 0;
    $(document).ready(function() {
      console.log("READY");
      number = getRandomInt(0, quote.length - 1, number);
      usedQuotes.push(number);
      console.log("INITIAL RANDINT: " + number);
      $("#quoteContainer").html(quote[number][0]);
      $("#authorContainer").html(quote[number][1])
      //
      $("#buttonTweetLink").on("click", function() {
        $("#buttonTweetLink").attr("href", 'https://twitter.com/intent/tweet?text=' + quote[number][0] + " " + quote[number][1]);
      });
      $("#generateButton").on("click", function() {
        console.log("CLICK");
        number = getRandomInt(0, quote.length - 1, number);
        console.log("RANDINT: " + number);
        $("#quoteContainer").html(quote[number][0]);
        $("#authorContainer").html(quote[number][1]);
      });
    })
  </script>

  <div id="mainDiv" class="jumbotron">
    <div class="container">
      <div class="page-header">
        <h2><small>Doge/</small>Random Quotes</h2>
      </div>
      <hr>
      <div id="bothContainers">
        <div>
          <p id="quoteContainer">Placeholder ayy</p>
        </div>
        <div id="authorContainer">
          Another placeholder lol xD
        </div>
      </div>
      <div id="alertSeenAll" class="text-danger" style="opacity: 0">
        You've seen all the quotes
      </div>
      <hr>
      <div id="buttonContainer">
        <button type="button" id="generateButton">Generate quote</button>
        <a id="buttonTweetLink"
        href="https://twitter.com/intent/tweet?text=">
        <button type="button">Tweet this quote</button></a>
      </div>
      <hr>
      <div id="fotterKappa" class="text-muted">
        Jarosław Zgierski 2017
      </div>
    </div>
  </div>

</body>
</html>
